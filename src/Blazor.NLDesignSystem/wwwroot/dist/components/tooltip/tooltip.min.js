/*!
NL Design System Componenten library 0.1.1, build date 27-06-2020
Copyright 2011-2020 The NL Design System Authors
Copyright 2011-2020 Duo
Author: DUO & The NL Design System Authors
Author URI: https://nl-design-system.gitlab.io/nl-design-system/
License: EUPL v1.2
License URL: https://joinup.ec.europa.eu/software/page/eupl5
Version: 0.1.1
*/
var ARROW_HEIGHT=15,MOBILE_BREAKPOINT=768,TOOLTIP='\n<div class="tooltip" hidden x-uno-tooltip-window>\n    <div class="tooltip__backdrop"></div>\n    <div class="tooltip__window">\n        <div class="tooltip__body" role="status"></div>\n        <div class="tooltip__footer" tabindex="0">\n            <button class="tooltip__close-button"><span class="icon icon-cross" role="presentation"></span>sluit</button>\n        </div>\n    </div>\n</div>',Tooltip=function(){function t(t){if(this.host=t,this.isHover=!1,this.hostEvents=[],!t.hasAttribute("title"))throw new Error("Tooltip is missing a title attribute");this._content=t.getAttribute("title"),t.removeAttribute("title"),t.classList.add("tooltip-trigger"),this.stylesheet=this.createStyleSheet().sheet;var e=document.createElement("div");e.innerHTML=TOOLTIP,e.setAttribute("aria-live","polite"),this.container=e.firstElementChild,this._parent=e,this._parent.classList.add("tooltip__parent"),this._tooltip=this.container.querySelector(".tooltip__window");var o=this.container.querySelector(".tooltip__close-button");this.setHover(),this.addListener(t,"click",this.onHostClick.bind(this)),this.addListener(t,"mouseover",this.onHostMouseOver.bind(this)),this.addListener(t,"mouseout",this.onHostMouseOut.bind(this)),this.addListener(t,"focus",this.onFocus.bind(this)),this.addListener(t,"blur",this.onBlur.bind(this)),this.addListener(o,"click",this.onClick.bind(this)),t.parentNode.insertBefore(this._parent,t.nextSibling)}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t||""},enumerable:!0,configurable:!0}),t.prototype.setContent=function(){var t=this.container.querySelector(".tooltip__body");t&&(t.innerHTML=this._content)},t.prototype.setHover=function(){window.matchMedia("(min-width: 768px)").matches?this.openOnHover=!0:this.openOnHover=!1},t.prototype.onClick=function(t){this.hide()},t.prototype.onHostClick=function(t){this.openOnHover||(this.isHover=!1,this.show())},t.prototype.onFocus=function(t){this.show()},t.prototype.onBlur=function(t){this.hide()},t.prototype.onHostMouseOver=function(t){this.openOnHover?(this.isHover=!0,this.show()):t.preventDefault()},t.prototype.onHostMouseOut=function(t){this.openOnHover?this.isHover&&this.hide():t.preventDefault()},t.prototype.destroy=function(){this.hide(),this.hostEvents.forEach(function(t){t.element.removeEventListener(t.event,t.listener)}),this.hostEvents=[]},t.prototype.hide=function(){this.container.classList.remove("tooltip--open"),this.container.setAttribute("hidden",""),window.matchMedia("(min-width: 768px)").matches||document.querySelector("body").classList.remove("no-scroll"),this.isHover=!1},t.prototype.show=function(){for(var t=document.querySelectorAll(".tooltip--open"),e=0;e<t.length;e++)for(var o=t[e];o.classList.contains("tooltip--open");)o.classList.remove("tooltip--open");this.container.classList.add("tooltip--open"),this.container.removeAttribute("hidden"),this.setContent();var i=this.positionElement(this.host,this._tooltip);this._tooltip.classList.remove("tooltip__window--top"),this._tooltip.classList.remove("tooltip__window--bottom"),this._tooltip.classList.add("tooltip__window--"+i),this.host.offsetWidth,this._tooltip.classList.add("tooltip__window--animate"),this._tooltip.classList.add("tooltip__window--show"),this.openOnHover||this._tooltip.querySelector(".tooltip__close-button").focus(),window.matchMedia("(min-width: 768px)").matches||document.querySelector("body").classList.add("no-scroll")},t.prototype.createStyleSheet=function(){var t=document.querySelector("style[x-uno-tooltip-stylesheet]");return t||((t=document.createElement("style")).setAttribute("x-uno-tooltip-stylesheet",""),document.head.appendChild(t)),t},t.prototype.positionElement=function(t,e){if(window.innerWidth>MOBILE_BREAKPOINT){this.stylesheet.rules&&0<this.stylesheet.rules.length&&this.stylesheet.removeRule(0);var o,i=parseInt(getComputedStyle(e).height),s=parseInt(getComputedStyle(e).width),n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),h="top",l=-r.width/2-s/2,p=-i-ARROW_HEIGHT-20;if(r.top-i<10&&(p=r.height,h="bottom"),r.right+l<0){l=20+l+(o=-r.right-l);var d=135-o-20;this.stylesheet.insertRule(".tooltip__window::before { left: "+d+"px }",0)}else if(r.right+l+s>n.width){l=l+(o=n.width-r.right-s-l)-10;d=135-o+10;this.stylesheet.insertRule(".tooltip__window::before { left: "+d+"px }",0)}return e.style.left=Math.round(l)+"px",e.style.top=Math.round(p)+"px",h}},t.prototype.addListener=function(t,e,o){this.hostEvents.push({element:t,event:e,listener:o}),t.addEventListener(e,o)},t}();exports.Tooltip=Tooltip;