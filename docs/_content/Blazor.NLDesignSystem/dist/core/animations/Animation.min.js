/*!
NL Design System Componenten library 0.1.1, build date 27-06-2020
Copyright 2011-2020 The NL Design System Authors
Copyright 2011-2020 Duo
Author: DUO & The NL Design System Authors
Author URI: https://nl-design-system.gitlab.io/nl-design-system/
License: EUPL v1.2
License URL: https://joinup.ec.europa.eu/software/page/eupl5
Version: 0.1.1
*/
var Easings_1=require("./Easings"),Animation=function(){function t(t){this.element=t,this._ease="easeOutCubic",this._animationDuration=30,this._step=0,this.canAnimate="function"==typeof window.requestAnimationFrame}return Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this._animationDuration},set:function(t){this._animationDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ease",{get:function(){return this._ease},set:function(t){if(!Easings_1.Easings.hasOwnProperty(t))throw new Error("Easing equation '"+t+"' does not exist");this._ease=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},set:function(t){this._delta=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialValue",{get:function(){return this._initialValue},set:function(t){this._initialValue=t},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.dispatch("uno-animation-start"),this.canAnimate?(this._step=0,this.element.classList.add("animating"),requestAnimationFrame(this.progress.bind(this))):(this.value=this.initialValue+this.delta,this.end())},t.prototype.cancel=function(){this.element.classList.remove("uno-animating"),this.dispatch("uno-animation-cancel")},t.prototype.progress=function(){this.value=Easings_1.Easings[this.ease](Math.min(this._step++,this.animationDuration),this.initialValue,this.delta,this.animationDuration),this.dispatch("uno-animation-progress",this.value),this._step<=this.animationDuration?requestAnimationFrame(this.progress.bind(this)):requestAnimationFrame(this.end.bind(this))},t.prototype.end=function(){this.element.classList.remove("animating"),this.dispatch("uno-animation-end")},t.prototype.dispatch=function(t,i){void 0===i&&(i=null);var e=document.createEvent("CustomEvent");e.initCustomEvent(t,!0,!0,i),this.element.dispatchEvent(e)},t}();exports.Animation=Animation;